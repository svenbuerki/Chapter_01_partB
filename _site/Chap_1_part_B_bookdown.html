<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Sven Buerki" />

<meta name="date" content="2020-09-24" />

<title>EEB 603 – Chapter 1: Using the R Markdown language to promote Reproducible Science</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Reproducible Science</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Chap_1_part_B_bookdown.html">Reproducible workflow</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">EEB 603 – Chapter 1: Using the R Markdown language to promote Reproducible Science</h1>
<h3 class="subtitle">Part B: Tables, Figures and References with R bookdown and allied packages</h3>
<h4 class="author">Sven Buerki</h4>
<h4 class="date">2020-09-24</h4>

</div>

<div id="TOC">
<ul>
<li><a href="#aim"><span class="toc-section-number">1</span> Aim</a></li>
<li><a href="#learning-outcomes"><span class="toc-section-number">2</span> Learning outcomes</a></li>
<li><a href="#associated-files-supporting-this-tutorial"><span class="toc-section-number">3</span> Associated files supporting this tutorial</a></li>
<li><a href="#set-your-r-markdown-environment"><span class="toc-section-number">4</span> Set your R Markdown environment</a><ul>
<li><a href="#install-dependencies"><span class="toc-section-number">4.1</span> Install dependencies</a><ul>
<li><a href="#r-packages"><span class="toc-section-number">4.1.1</span> R packages</a></li>
<li><a href="#tex-distribution"><span class="toc-section-number">4.1.2</span> TeX distribution</a></li>
<li><a href="#set-miktex-for-compiling-pdf-documents-on-windows-computers"><span class="toc-section-number">4.1.3</span> Set MiKTeX for compiling PDF documents on Windows computers</a></li>
</ul></li>
<li><a href="#yaml-metadata-section"><span class="toc-section-number">4.2</span> YAML metadata section</a><ul>
<li><a href="#step-by-step-procedure"><span class="toc-section-number">4.2.1</span> Step-by-step procedure</a></li>
<li><a href="#knitting-procedure"><span class="toc-section-number">4.2.2</span> Knitting procedure</a></li>
</ul></li>
<li><a href="#load-required-r-packages"><span class="toc-section-number">4.3</span> Load required R packages</a><ul>
<li><a href="#step-by-step-procedure-1"><span class="toc-section-number">4.3.1</span> Step-by-step procedure</a></li>
</ul></li>
<li><a href="#generate-citation-file-of-r-packages-used-to-produce-the-report"><span class="toc-section-number">4.4</span> Generate citation file of R packages used to produce the report</a></li>
<li><a href="#generate-appendix-with-citations-for-all-r-packages"><span class="toc-section-number">4.5</span> Generate Appendix with citations for all R packages</a><ul>
<li><a href="#step-by-step-procedure-2"><span class="toc-section-number">4.5.1</span> Step-by-step procedure</a></li>
</ul></li>
<li><a href="#generate-appendix-with-r-package-versions-used-to-produce-report"><span class="toc-section-number">4.6</span> Generate Appendix with R package versions used to produce report</a></li>
</ul></li>
<li><a href="#all-set-good-to-go"><span class="toc-section-number">5</span> All set, good to go!</a></li>
<li><a href="#insert-tables-and-figures-in-r-markdown-document"><span class="toc-section-number">6</span> Insert tables and figures in R Markdown document</a><ul>
<li><a href="#tables"><span class="toc-section-number">6.1</span> Tables</a><ul>
<li><a href="#step-by-step-protocol"><span class="toc-section-number">6.1.1</span> Step-by-step protocol</a></li>
</ul></li>
<li><a href="#figures"><span class="toc-section-number">6.2</span> Figures</a><ul>
<li><a href="#step-by-step-protocol-1"><span class="toc-section-number">6.2.1</span> Step-by-step protocol</a></li>
</ul></li>
</ul></li>
<li><a href="#cross-reference-tables-and-figures-in-the-text"><span class="toc-section-number">7</span> Cross-reference tables and figures in the text</a><ul>
<li><a href="#general-syntax"><span class="toc-section-number">7.1</span> General syntax</a></li>
<li><a href="#step-by-step-procedure-3"><span class="toc-section-number">7.2</span> Step-by-step procedure</a></li>
</ul></li>
<li><a href="#citing-references-in-text-and-adding-a-bibliographyreferences-section"><span class="toc-section-number">8</span> Citing references in text and adding a bibliography/references section</a><ul>
<li><a href="#the-bibliography-file"><span class="toc-section-number">8.1</span> The bibliography file</a><ul>
<li><a href="#procedure-to-do-prior-to-citing-references-in-an-r-markdown-document"><span class="toc-section-number">8.1.1</span> Procedure to do prior to citing references in an R Markdown document</a></li>
</ul></li>
<li><a href="#specifying-a-bibliography-in-the-r-markdown-file"><span class="toc-section-number">8.2</span> Specifying a bibliography in the R Markdown file</a></li>
<li><a href="#bibtex-format"><span class="toc-section-number">8.3</span> BibTeX format</a></li>
<li><a href="#citation-identifier"><span class="toc-section-number">8.4</span> Citation identifier</a></li>
<li><a href="#citing-references"><span class="toc-section-number">8.5</span> Citing references</a><ul>
<li><a href="#practice-citing-references"><span class="toc-section-number">8.5.1</span> Practice citing references</a></li>
</ul></li>
<li><a href="#adding-a-bibliographyreferences-section"><span class="toc-section-number">8.6</span> Adding a bibliography/references section</a></li>
</ul></li>
<li><a href="#formatting-citations-to-journal-styles"><span class="toc-section-number">9</span> Formatting citations to journal styles</a><ul>
<li><a href="#what-is-the-citation-style-language-csl"><span class="toc-section-number">9.1</span> What is the citation style language (CSL)?</a></li>
<li><a href="#csl-repositories"><span class="toc-section-number">9.2</span> CSL repositories</a></li>
<li><a href="#how-to-use-a-csl-file-in-an-r-markdown-to-format-citations-and-bibliography"><span class="toc-section-number">9.3</span> How to use a CSL file in an R Markdown to format citations and bibliography?</a></li>
</ul></li>
<li><a href="#references"><span class="toc-section-number">10</span> References</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li><a href="#appendix-1"><span class="toc-section-number">A</span> Appendix 1</a></li>
<li><a href="#appendix-2"><span class="toc-section-number">B</span> Appendix 2</a></li>
</ul>
</div>

<div id="aim" class="section level1">
<h1><span class="header-section-number">1</span> Aim</h1>
<p>The aim of this tutorial is to provide students with the expertise to generate reproducible reports using <em>bookdown</em> <span class="citation">(Xie, <a href="#ref-bookdown2016">2016</a>, <a href="#ref-R-bookdown">2020</a><a href="#ref-R-bookdown">a</a>)</span> and allied R packages (see <a href="#appendix-1">Appendix 1</a> for a full list). Unlike functions implemented in the R <em>rmarkdown</em> package <span class="citation">(Xie et al., <a href="#ref-rmarkdown2018">2018</a>, which was better suited to generating <code>PDF</code> reproducible reports)</span>, <em>bookdown</em> allows to use ONE unified set of functions to generate <code>HTML</code> and <code>PDF</code> documents. In addition, the same approach and functions are used to process tables and figures as well as cross-reference those in the main body of the text. In this tutorial, we will also cover procedures to cite references in the text, automatically generate a bibliography/references section and format citations to journal styles as well as generating an Appendix containing citations of all R packages used to conduct your research (and produce the report).</p>
</div>
<div id="learning-outcomes" class="section level1">
<h1><span class="header-section-number">2</span> Learning outcomes</h1>
<p>This tutorial is devoted to part B of chapter 1 and provides students with opportunities to learn procedures to:</p>
<ul>
<li>Set your R Markdown environment:
<ul>
<li>Install dependencies.</li>
<li>YAML metadata section.</li>
<li>Load required R packages.</li>
<li>Generate citation file of R packages used to produce the report.</li>
<li>Generate Appendix with citations for all R packages.</li>
<li>Generate Appendix with R package versions used to produce report.</li>
</ul></li>
<li>Insert tables and figures in R Markdown document.</li>
<li>Cross-reference tables and figures in the text.</li>
<li>Cite references in the text and add a bibliography/references section.</li>
<li>Format citations to journal styles.</li>
</ul>
</div>
<div id="associated-files-supporting-this-tutorial" class="section level1">
<h1><span class="header-section-number">3</span> Associated files supporting this tutorial</h1>
<p>Although less used in part A, a set of files are provided to support teaching of material presented in this chapter. These files are deposited in the shared Google Drive at this path:</p>
<ul>
<li><code>Reproducible_Science/Chapters/Chapter_1/Tutorial_files</code></li>
</ul>
<p>Files are as follows:</p>
<ul>
<li><code>EEB603_Syllabus_BUERKI.Rmd</code>: This is the <code>.Rmd</code> file used to compile the syllabus of this class. This file provides a good source of information for the syntax and protocols described in this tutorial.</li>
<li><code>Bibliography_Reproducible_Science_2.bib</code>: This file contains references cited in <a href="#BibTex">BibTex</a> format.</li>
<li><code>AmJBot.csl</code>: This citation style language (CSL) file allows formatting citations and bibliography following citation style of <em>American Journal of Botany</em>.</li>
<li><code>Bioinformatic workflow_PART2.pdf</code>: A <code>pdf</code> file containing the bioinformatic workflow taught in this class. This file will be used to learn how to incorporate a figure into R Markdown file.</li>
</ul>
</div>
<div id="set-your-r-markdown-environment" class="section level1">
<h1><span class="header-section-number">4</span> Set your R Markdown environment</h1>
<div id="install-dependencies" class="section level2">
<h2><span class="header-section-number">4.1</span> Install dependencies</h2>
<div id="r-packages" class="section level3">
<h3><span class="header-section-number">4.1.1</span> R packages</h3>
<p>To execute this tutorial the following R packages have to be installed on your computer using code provided below:</p>
<pre class="r"><code>install.packages(c(&quot;knitr&quot;, &quot;rmarkdown&quot;, &quot;bookdown&quot;, &quot;formattable&quot;, 
    &quot;kableExtra&quot;, &quot;dplyr&quot;, &quot;magrittr&quot;, &quot;prettydoc&quot;, &quot;htmltools&quot;, 
    &quot;knitcitations&quot;))</code></pre>
</div>
<div id="tex-distribution" class="section level3">
<h3><span class="header-section-number">4.1.2</span> TeX distribution</h3>
<p>If you are planning to create <code>PDF</code> documents, you will need to install a <code>TeX</code> distribution on your computers. Please refer to this website for more details: <a href="https://www.latex-project.org/get/" class="uri">https://www.latex-project.org/get/</a></p>
</div>
<div id="set-miktex-for-compiling-pdf-documents-on-windows-computers" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Set MiKTeX for compiling PDF documents on Windows computers</h3>
<p>Several students working on Windows computers shared difficulties in compiling <code>PDF</code> documents in RStudio. This issue is associated to <code>MiKTeX</code> preventing RStudio to install or update <code>TeX</code> packages required to knit your documents.</p>
<p>To solve this issue apply the following procedure:</p>
<ol style="list-style-type: decimal">
<li>Start <code>MiKTeX</code> console by searching and clicking <code>MiKTeX Console</code> in the application launcher.</li>
<li>Enable automatic package installation by:</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Clicking on <code>Settings</code> tab.</li>
<li>Ticking the radio button <code>Always install missing packages on-the-fly</code> under the “You can choose whether missing packages are to be installed on-the-fly” header ().</li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li>Restarting <code>RStudio</code> and you should be able to knit <code>pdf</code> documents.</li>
</ol>
<div class="figure"><span id="fig:MikTex"></span>
<img src="Figures/MikTex.png" alt="Snapshot of the MikTex Console showing the procedure to always install packages on-the-fly." width="100%" />
<p class="caption">
Figure 4.1: Snapshot of the MikTex Console showing the procedure to always install packages on-the-fly.
</p>
</div>
</div>
</div>
<div id="yaml-metadata-section" class="section level2">
<h2><span class="header-section-number">4.2</span> YAML metadata section</h2>
<p>The YAML metadata section allows users to provide arguments (refereed to as fields) to convert their R Markdown document into its final form. Here, we will be using functions implemented in the <em>knitr</em> <span class="citation">(Xie, <a href="#ref-knitr2015">2015</a>, <a href="#ref-R-knitr">2020</a><a href="#ref-R-knitr">b</a>)</span> and <em>bookdown</em> packages <span class="citation">(Xie, <a href="#ref-bookdown2016">2016</a>, <a href="#ref-R-bookdown">2020</a><a href="#ref-R-bookdown">a</a>)</span> to define (field names as declared in the YAML metadata section are provided between parenthesis):</p>
<ol style="list-style-type: decimal">
<li>Title (<code>title</code>).</li>
<li>Subtitle (<code>subtitle</code>).</li>
<li>Author(s) (<code>author</code>).</li>
<li>Date (<code>date</code>).</li>
<li>Output format(s) (<code>output</code>).</li>
<li>Citations link (<code>link-citations</code>).</li>
<li>Font size (<code>fontsize</code>).</li>
<li>Bibliography file(s) (<code>bibliography</code>).</li>
<li>Format for citations to follow journal styles (<code>csl</code>).</li>
</ol>
<p>The YAML code provided below outputs either an <code>HTML</code> or <code>PDF</code> document (see <code>output</code> field) with a table of content (see <code>toc</code> field) and generates in text citations and bibliography section as declared in the <code>AmJBot.csl</code> file (under the <code>csl</code> field).</p>
<pre class="r"><code>--- 
title: &#39;Your title&#39;
subtitle: &quot;Your subtitle&quot;
author: &quot;Your name&quot;
date: &quot;`r Sys.Date()`&quot;
output:
  bookdown::html_document2: 
    toc: TRUE
  bookdown::pdf_document2:
    toc: TRUE
link-citations: yes
fontsize: 12pt
bibliography: [Bibliography_Reproducible_Science_2.bib, packages.bib] 
csl: AmJBot.csl
---</code></pre>
<p><strong>Warning:</strong> <code>.bib</code> and <code>.csl</code> files have to be stored in the same working directory as your <code>.Rmd</code> file.</p>
<div id="step-by-step-procedure" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Step-by-step procedure</h3>
<p>Do the following to set your YAML metadata section:</p>
<ol style="list-style-type: decimal">
<li>Create a new R Markdown document.</li>
<li>Save the <code>.Rmd</code> document into a new project folder in <code>Reproducible_Science/Chapters/Chapter_1/</code>.</li>
<li>Copy <code>Bibliography_Reproducible_Science_2.bib</code> and <code>AmJBot.csl</code> in your project folder. These files are available on the Shared Google Drive folder:</li>
</ol>
<ul>
<li><code>Reproducible_Science/Chapters/Chapter_1/Tutorial_files</code></li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Edit the YAML metadata section as shown in the above code.</li>
</ol>
<p><strong>Note:</strong></p>
<ul>
<li>You can use <code>R</code> functions in the YAML metadata section using inline R code (see part A for more details). Here, we use <code>Sys.Date()</code> to automatically date the output document.</li>
<li>The <code>bibliography</code> field includes two <code>BibTeX</code> files, the first contains your regular citations (of publications cited in the text; see <a href="#the-bibliography-file">The bibliography file</a>), whereas the second is generated by <code>knitr::write_bib()</code> and contains citations for all R packages used to generate this report (see below for more details).</li>
</ul>
</div>
<div id="knitting-procedure" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Knitting procedure</h3>
<p>Since you have declared two output documents in the YAML metadata section and that those are specific to <code>bookdown</code> functions, you will have to select which output format you want to use to compile your document by clicking on the drop-down list on the left side of the <code>Knit</code> button (see Figure <a href="#fig:knitout">4.2</a>). To use <code>bookdown</code> functions, please make sure to select one of the following options (see Figure <a href="#fig:knitout">4.2</a>): <code>Knit to html_document2</code> or <code>Knit to pdf_document2</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:knitout"></span>
<img src="Figures/knit_drop_down.png" alt="Snapshot of RStudio console showing the drop-down list associated to Knit button." width="100%" />
<p class="caption">
Figure 4.2: Snapshot of RStudio console showing the drop-down list associated to Knit button.
</p>
</div>
</div>
</div>
<div id="load-required-r-packages" class="section level2">
<h2><span class="header-section-number">4.3</span> Load required R packages</h2>
<p>It is best practice to add an R code chunk directly under the YAML metadata section to load all the required R packages used to produce your report. This feature will also allow to automatically generate a citation file with all R packages used to generate your report (see below). Applying this approach will contribute to improving the reproducibility of your research!</p>
<div id="step-by-step-procedure-1" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Step-by-step procedure</h3>
<ol style="list-style-type: decimal">
<li>Include an R code chunk directly under your YAML metadata section.</li>
<li>Name code chunk <code>packages</code> and set options line as follows:</li>
</ol>
<ul>
<li><code>echo=FALSE</code>,</li>
<li><code>warning=FALSE</code>,</li>
<li><code>include=FALSE</code>.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Add the following code to load required packages to produce your report:</li>
</ol>
<pre><code>#Load packages
library(knitr)
library(rmarkdown)
library(bookdown)
library(formattable)
library(kableExtra)
library(dplyr)
library(magrittr)
library(prettydoc)
library(htmltools)
library(knitcitations)
library(devtools)</code></pre>
</div>
</div>
<div id="generate-citation-file-of-r-packages-used-to-produce-the-report" class="section level2">
<h2><span class="header-section-number">4.4</span> Generate citation file of R packages used to produce the report</h2>
<p>I don’t know about you, but I am always struggling to properly cite R packages in my publications. If you want to retrieve the citation for an R package, you can use the base R function <code>citation()</code>. For instance, citations for <em>knitr</em> can be obtained as follow:</p>
<pre class="r"><code># Generate citation for knitr
citation(&quot;knitr&quot;)</code></pre>
<pre><code>## 
## To cite the &#39;knitr&#39; package in publications use:
## 
##   Yihui Xie (2020). knitr: A General-Purpose Package for Dynamic Report
##   Generation in R. R package version 1.29.
## 
##   Yihui Xie (2015) Dynamic Documents with R and knitr. 2nd edition.
##   Chapman and Hall/CRC. ISBN 978-1498716963
## 
##   Yihui Xie (2014) knitr: A Comprehensive Tool for Reproducible
##   Research in R. In Victoria Stodden, Friedrich Leisch and Roger D.
##   Peng, editors, Implementing Reproducible Computational Research.
##   Chapman and Hall/CRC. ISBN 978-1466561595
## 
## To see these entries in BibTeX format, use &#39;print(&lt;citation&gt;,
## bibtex=TRUE)&#39;, &#39;toBibtex(.)&#39;, or set
## &#39;options(citation.bibtex.max=999)&#39;.</code></pre>
<p>If you want to generate those latter citation entries in <a href="#bibtex-format">BibTeX format</a>, you can pass the returned object of <code>citation()</code> to <code>toBibtex()</code> as follows:</p>
<pre class="r"><code># Generate citation for knitr in BibTex format Note that
# there is no citation identifiers. Those will be
# automatically generated in our next code.
toBibtex(citation(&quot;knitr&quot;))</code></pre>
<pre><code>## @Manual{,
##   title = {knitr: A General-Purpose Package for Dynamic Report Generation in R},
##   author = {Yihui Xie},
##   year = {2020},
##   note = {R package version 1.29},
##   url = {https://yihui.org/knitr/},
## }
## 
## @Book{,
##   title = {Dynamic Documents with {R} and knitr},
##   author = {Yihui Xie},
##   publisher = {Chapman and Hall/CRC},
##   address = {Boca Raton, Florida},
##   year = {2015},
##   edition = {2nd},
##   note = {ISBN 978-1498716963},
##   url = {https://yihui.org/knitr/},
## }
## 
## @InCollection{,
##   booktitle = {Implementing Reproducible Computational Research},
##   editor = {Victoria Stodden and Friedrich Leisch and Roger D. Peng},
##   title = {knitr: A Comprehensive Tool for Reproducible Research in {R}},
##   author = {Yihui Xie},
##   publisher = {Chapman and Hall/CRC},
##   year = {2014},
##   note = {ISBN 978-1466561595},
##   url = {http://www.crcpress.com/product/isbn/9781466561595},
## }</code></pre>
<p>To use citation entries generated from <code>toBibtex()</code>, you have to copy the output to a <code>.bib</code> file and save it in your working directory. You will then be able to cite references found in this document directly in your R Markdown. This can be done by adding the following code to your <code>packages</code> R code chunk:</p>
<pre class="r"><code># Generate BibTex citation file for all R packages used to
# produce report
knitr::write_bib(.packages(), file = &quot;packages.bib&quot;)</code></pre>
<p>The <code>.packages()</code> argument returns the names of all packages loaded in the current R session. This makes sure all packages being used will have their citation entries written to the <code>.bib</code> file. Finally, to be able to cite those references (see <a href="#citation-identifier">Citation identifier</a>) in your text, the <a href="#yaml-metadata-section">YAML metadata section</a> has to be edited. See <a href="#appendix-1">Appendix 1</a> for a full list of references associated to the R packages used to generate this report.</p>
</div>
<div id="generate-appendix-with-citations-for-all-r-packages" class="section level2">
<h2><span class="header-section-number">4.5</span> Generate Appendix with citations for all R packages</h2>
<p>Although a bibliography/references section will be provided at the end of your document to cite in text references (see <a href="#references">References</a>), it is customed to add citations for all R packages used to generate the research in <a href="#appendix-1">Appendix 1</a>. We will learn here the procedure to assemble such Appendix.</p>
<div id="step-by-step-procedure-2" class="section level3">
<h3><span class="header-section-number">4.5.1</span> Step-by-step procedure</h3>
<ol style="list-style-type: decimal">
<li>Include Appendix after bibliography/references section.</li>
</ol>
<ul>
<li>This is done by using <code>&lt;div id=&quot;refs&quot;&gt;&lt;/div&gt;</code> as shown below:</li>
</ul>
<pre class="r"><code># References

&lt;div id=&quot;refs&quot;&gt;&lt;/div&gt;

# (APPENDIX) Appendix {-}

# Appendix 1</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Insert an R code chunk directly under <code># Appendix</code> to read in and print citations saved in <code>packages.bib</code>. This is done as follows:</li>
</ol>
<pre class="r"><code>### Load R package
library(&quot;knitcitations&quot;)
### Process and print citations in packages.bib Clear all
### bibliography that could be in the cash
cleanbib()
# Set pandoc as the default output option for bib
options(citation_format = &quot;pandoc&quot;)
# Read and print bib from file
read.bibtex(file = &quot;packages.bib&quot;)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Edit your R code chunk options line as follows to correctly print out references:
<code>{r generateBibliography, results=&quot;asis&quot;, echo=FALSE, warning = FALSE, message=FALSE}</code></li>
<li>Knit your code to check that it produces the right output (see <a href="#knitting-procedure">Knitting procedure</a>). See <a href="#appendix-1">Appendix 1</a> to get an idea of the output.</li>
</ol>
</div>
</div>
<div id="generate-appendix-with-r-package-versions-used-to-produce-report" class="section level2">
<h2><span class="header-section-number">4.6</span> Generate Appendix with R package versions used to produce report</h2>
<p>In addition to providing citations to R packages, you might also would like to provide full information on R package versions and your operating systems. With R, the simplest (but a useful and important) approach to document your R environment is to report the output of <code>sessionInfo()</code> (or <code>devtools::session_info()</code>). Among other information, this will show all the packages and their versions that are loaded in the session you used to run your analysis. If someone
wants to recreate your analysis, they will know which packages they will need to install, what versions and on which operating systems the code was executed. For instance, here is the output of <code>sessionInfo()</code> showing the R version and packages that I used to create this document:</p>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 3.6.1 (2019-07-05)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS Mojave 10.14.6
## 
## Matrix products: default
## BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] devtools_2.2.1       usethis_1.5.1        knitcitations_1.0.10
##  [4] htmltools_0.4.0      prettydoc_0.3.1      magrittr_1.5        
##  [7] dplyr_0.8.3          kableExtra_1.1.0     formattable_0.2.0.1 
## [10] bookdown_0.17        rmarkdown_2.1        knitr_1.29          
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.3        lubridate_1.7.4   prettyunits_1.1.1 ps_1.3.0         
##  [5] assertthat_0.2.1  rprojroot_1.3-2   digest_0.6.23     R6_2.4.1         
##  [9] plyr_1.8.5        backports_1.1.5   evaluate_0.14     highr_0.8        
## [13] httr_1.4.1        pillar_1.4.3      rlang_0.4.3       rstudioapi_0.10  
## [17] callr_3.4.1       desc_1.2.0        webshot_0.5.2     RefManageR_1.2.12
## [21] readr_1.3.1       stringr_1.4.0     htmlwidgets_1.5.1 tinytex_0.19     
## [25] munsell_0.5.0     compiler_3.6.1    xfun_0.16         pkgconfig_2.0.3  
## [29] pkgbuild_1.0.6    tidyselect_0.2.5  tibble_2.1.3      fansi_0.4.1      
## [33] viridisLite_0.3.0 crayon_1.3.4      withr_2.1.2       jsonlite_1.6     
## [37] lifecycle_0.1.0   formatR_1.7       scales_1.1.1      bibtex_0.4.2.2   
## [41] cli_2.0.1         stringi_1.4.5     fs_1.3.1          remotes_2.1.0    
## [45] testthat_2.3.1    xml2_1.2.2        ellipsis_0.3.0    vctrs_0.2.2      
## [49] tools_3.6.1       glue_1.3.1        purrr_0.3.3       hms_0.5.3        
## [53] processx_3.4.1    pkgload_1.0.2     yaml_2.2.0        colorspace_1.4-1 
## [57] sessioninfo_1.1.1 rvest_0.3.5       memoise_1.1.0</code></pre>
<p>I have also used the approach described above to add this information in <a href="#appendix-2">Appendix 2</a>.</p>
</div>
</div>
<div id="all-set-good-to-go" class="section level1">
<h1><span class="header-section-number">5</span> All set, good to go!</h1>
<p>We have now set our R Markdown environment and can start populating it! This means that you will be inserting your text and other code chunks directly under the <code>packages</code> code chunk. The <a href="#references">References</a> section constitutes the end of the main body of your document. If you want to add Appendices, do so under <a href="#appendix-1">Appendix 1</a>, appendices will be labelled differently from the main body of the document.</p>
</div>
<div id="insert-tables-and-figures-in-r-markdown-document" class="section level1">
<h1><span class="header-section-number">6</span> Insert tables and figures in R Markdown document</h1>
<div id="tables" class="section level2">
<h2><span class="header-section-number">6.1</span> Tables</h2>
<p>There will be more details about figures in chapter 9; however this tutorial introduces key concepts related to table making in R Markdown, more specifically on the following topics:</p>
<ul>
<li>Creating a table in R.</li>
<li>Assigning a table caption.</li>
<li>Providing a unique label to the R code chunk allowing further cross-referencing in the text.</li>
<li>Displaying the table in the document.</li>
</ul>
<div id="step-by-step-protocol" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Step-by-step protocol</h3>
<p>Here, you will learn the R Markdown syntax and R code required to replicate the grading scale presented in the Syllabus (see Table <a href="#tab:tabgrades"><strong>??</strong></a>):</p>

<ol style="list-style-type: decimal">
<li>Use the same <code>.Rmd</code> document as above to practice working with tables.</li>
<li>Add a first-level header entitled <code>Tables</code>.</li>
<li>Insert an R code chunk under your header by clicking on the <code>Insert</code> button <img src="Figures/insert.png" /> in the editor toolbar.</li>
<li>Write the following R code in the code chunk:</li>
</ol>
<pre class="r"><code>grades &lt;- data.frame(Percentage = c(&quot;100-98&quot;, &quot;97.9-93&quot;, &quot;92.9-90&quot;, 
    &quot;89.9-88&quot;, &quot;87.9-83&quot;, &quot;82.9-80&quot;, &quot;79.9-78&quot;, &quot;77.9-73&quot;, &quot;72.9-70&quot;, 
    &quot;69.9-68&quot;, &quot;67.9-60&quot;, &quot;59.9-0&quot;), Grade = c(&quot;A+&quot;, &quot;A&quot;, &quot;A-&quot;, 
    &quot;B+&quot;, &quot;B&quot;, &quot;B-&quot;, &quot;C+&quot;, &quot;C&quot;, &quot;C-&quot;, &quot;D+&quot;, &quot;D&quot;, &quot;F&quot;))
knitr::kable(grades, caption = &quot;Grading scale applied in this class.&quot;) %&gt;% 
    kable_styling(c(&quot;striped&quot;, &quot;scale_down&quot;))</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Edit the code chunk options line by adding the following arguments (each argument should be separated by a comma):</li>
</ol>
<ul>
<li><code>echo=FALSE</code></li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Add the unique label <code>tabgrades</code> in the chunk options line (just after <code>{r</code>) to enable further cross-referencing.</li>
<li>Test your code to check that it produces the expected table (using the <code>Run</code> button).</li>
<li>Knit your document using the <code>Knit</code> button <img src="Figures/knit_2.png" /> on the editor toolbar (remember to select your output format; Figure <a href="#fig:knitout">4.2</a>).</li>
</ol>
</div>
</div>
<div id="figures" class="section level2">
<h2><span class="header-section-number">6.2</span> Figures</h2>
<p>There will be more details about figures in chapter 10; however this tutorial introduces key concepts related to figure making in R Markdown, more specifically on the following topics:</p>
<ul>
<li>Creating a figure in R (based on the <code>cars</code> dataset; Figure <a href="#fig:cars">6.1</a>).</li>
<li>Assigning a figure caption.</li>
<li>Providing a unique label to the R code chunk allowing further cross-referencing in the text.</li>
<li>Displaying the figure in the document.</li>
</ul>
<div class="figure"><span id="fig:cars"></span>
<img src="Chap_1_part_B_bookdown_files/figure-html/cars-1.png" alt="Plot of cars' speed in relation to distance." width="100%" />
<p class="caption">
Figure 6.1: Plot of cars’ speed in relation to distance.
</p>
</div>
<div id="step-by-step-protocol-1" class="section level3">
<h3><span class="header-section-number">6.2.1</span> Step-by-step protocol</h3>
<p>Here, you will learn the R Markdown syntax and R code required to replicate Figure <a href="#fig:cars">6.1</a>:</p>
<ol style="list-style-type: decimal">
<li>Use the same <code>.Rmd</code> document as above to practice working with figures.</li>
<li>Add a first-level header entitled <code>Figures</code>.</li>
<li>Insert an R code chunk under your header by clicking on the <code>Insert</code> button <img src="Figures/insert.png" /> in the editor toolbar.</li>
<li>Write the following R code in the code chunk:</li>
</ol>
<pre class="r"><code>summary(cars)
plot(cars)</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Edit the code chunk options line by adding the following arguments (each argument should be separated by a comma):</li>
</ol>
<ul>
<li><code>echo=FALSE</code></li>
<li><code>results=&quot;hide&quot;</code></li>
<li><code>fig.cap=&quot;Plot of cars' speed in relation to distance.&quot;</code></li>
<li><code>out.width = '100%'</code></li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Add the unique label <code>cars</code> in the chunk options line (just after <code>{r</code>) to enable further cross-referencing.</li>
<li>Test your code to check that it produces the expected plot (using the <code>Run</code> button).</li>
<li>Knit your document using the <code>Knit</code> button <img src="Figures/knit_2.png" /> on the editor toolbar (remember to select your output format; Figure <a href="#fig:knitout">4.2</a>).</li>
</ol>
</div>
</div>
</div>
<div id="cross-reference-tables-and-figures-in-the-text" class="section level1">
<h1><span class="header-section-number">7</span> Cross-reference tables and figures in the text</h1>
<p>Cross-referencing tables and figures in the main body of your R Markdown document can easily be done using the <code>\@ref()</code> function implemented in the <em>bookdown</em> package.</p>
<div id="general-syntax" class="section level2">
<h2><span class="header-section-number">7.1</span> General syntax</h2>
<p>The general syntax is as follows:</p>
<pre class="r"><code># Cross-referencing tables in main body of text
\@ref(tab:code_chunk_ID)

# Cross-referencing figures in main body of text
\@ref(fig:code_chunk_ID)</code></pre>
</div>
<div id="step-by-step-procedure-3" class="section level2">
<h2><span class="header-section-number">7.2</span> Step-by-step procedure</h2>
<p>To cross-reference the <code>tabgrades</code> table type:</p>
<p><code>\@ref(tab:tabgrades)</code>, which translates into <a href="#tab:tabgrades"><strong>??</strong></a>.</p>
<p>To cross-reference the <code>cars</code> figure type:</p>
<p><code>\@ref(fig:cars)</code>, which translates into <a href="#fig:cars">6.1</a>.</p>
<p>Note the this syntax doesn’t automatically include the <code>Table</code> or <code>Figure</code> handles in front of the cross-reference. You will have to manually add <code>Table</code> or <code>Figure</code> in front of your <code>\@ref()</code> function.</p>
</div>
</div>
<div id="citing-references-in-text-and-adding-a-bibliographyreferences-section" class="section level1">
<h1><span class="header-section-number">8</span> Citing references in text and adding a bibliography/references section</h1>
<div id="the-bibliography-file" class="section level2">
<h2><span class="header-section-number">8.1</span> The bibliography file</h2>
<p>To cite references in the R Markdown document those have to be saved in a bibliography file using the <code>BibTeX</code> format. Other formats can be used, but the <code>BibTeX</code> format is open-source and easy to edit. Please see this webpage for more details on other formats: <a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html" class="uri">https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html</a></p>
<p>Most journals allow saving citation of publications directly in <code>BibTeX</code> format, but when this feature is not available formats can be converted using online services (e.g. EndNote to BibTeX: <a href="https://www.bruot.org/ris2bib/" class="uri">https://www.bruot.org/ris2bib/</a>).</p>
<div id="procedure-to-do-prior-to-citing-references-in-an-r-markdown-document" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Procedure to do prior to citing references in an R Markdown document</h3>
<ol style="list-style-type: decimal">
<li>Save all your <code>BibTeX</code> references in a text file and make sure to add the <code>.bib</code> extension.</li>
<li>This file has to be deposited in the same folder as your <code>.Rmd</code> file.</li>
<li>You will be inserting the name of your references file in the <a href="#yaml-metadata-section">YAML metadata section</a>.</li>
<li>You can visit this <a href="https://academic.oup.com/botlinnean/article/186/4/435/4736317?searchresult=1">webpage</a> and click on the <code>Cite</code> icon to download a citation in <code>.bibtex</code> format. More details on the <code>BibTeX</code> format is provided below.</li>
<li>References formatted in <code>BibTeX</code> format are available in associated file:</li>
</ol>
<ul>
<li><code>Bibliography_Reproducible_Science_2.bib</code>.</li>
</ul>
</div>
</div>
<div id="specifying-a-bibliography-in-the-r-markdown-file" class="section level2">
<h2><span class="header-section-number">8.2</span> Specifying a bibliography in the R Markdown file</h2>
<p>The Pandoc program can automatically generate citations in the text and a bibliography/references section following various journal styles. In order to use this feature, you need to specify a bibliography file in the <a href="#yaml-metadata-section">YAML metadata section</a>.</p>
</div>
<div id="bibtex-format" class="section level2">
<h2><span class="header-section-number">8.3</span> BibTeX format</h2>
<p>Please find below an example of a reference formatted in <code>BibTeX</code> format:</p>
<pre class="r"><code># Example of BibTex format for Baker (2016) published in Nature
@Article{Baker_2016,
  doi = {10.1038/533452a},
  url = {https://doi.org/10.1038/533452a},
  year = {2016},
  month = {may},
  publisher = {Springer Nature},
  volume = {533},
  number = {7604},
  pages = {452--454},
  author = {Monya Baker},
  title = {1,500 scientists lift the lid on reproducibility},
  journal = {Nature},
}</code></pre>
</div>
<div id="citation-identifier" class="section level2">
<h2><span class="header-section-number">8.4</span> Citation identifier</h2>
<p>The unique citation identifier of a reference (<code>Baker_2016</code> in the example above) is set by the user in the <code>BibTeX</code> citation file (see first line in the example provided above). This unique identifier is used to refer to the reference/publication in the R Markdown document and also allows citing references and generating the bibliography/references section.</p>
</div>
<div id="citing-references" class="section level2">
<h2><span class="header-section-number">8.5</span> Citing references</h2>
<p>Citations go inside square brackets (<code>[]</code>) and are separated by semicolons. Each citation must have a key, composed of <code>@</code> + the citation identifier (see above) as stored into the <code>BibTeX</code> file.</p>
<p>Please find below some examples on citation protocols:</p>
<pre class="r"><code>#Syntax
Blah blah [see @Baker_2016, pp. 33-35; also @Smith2016, ch. 1].
Blah blah [@Baker_2016; @Smith2016].</code></pre>
<p>Once knitted (using the <img src="Figures/knit_2.png" /> button), the above code/syntax turns into:</p>
<p>Blah blah <span class="citation">(see Baker, <a href="#ref-Baker_2016">2016</a> pp. 33–35; also Smith et al., <a href="#ref-Smith2016">2016</a>, ch. 1)</span>.</p>
<p>Blah blah <span class="citation">(Baker, <a href="#ref-Baker_2016">2016</a>; Smith et al., <a href="#ref-Smith2016">2016</a>)</span>.</p>
<p>A minus sign (-) before the <code>@</code> will suppress mention of the author in the citation. This can be useful when the author is already mentioned in the text:</p>
<pre class="r"><code>#Syntax
Baker says blah blah [-@Baker_2016].</code></pre>
<p>Once knitted, the above code/syntax turns into:</p>
<p>Baker says blah blah <span class="citation">(<a href="#ref-Baker_2016">2016</a>)</span>.</p>
<p>You can also write an in-text citation, as follows:</p>
<pre class="r"><code>#Syntax
@Baker_2016 says blah.
@Baker_2016 [p. 1] says blah.</code></pre>
<p>Once knitted, the above code/syntax turns into:</p>
<p><span class="citation">Baker (<a href="#ref-Baker_2016">2016</a>)</span> says blah.</p>
<p><span class="citation">Baker (<a href="#ref-Baker_2016">2016</a> p. 1)</span> says blah.</p>
<div id="practice-citing-references" class="section level3">
<h3><span class="header-section-number">8.5.1</span> Practice citing references</h3>
<p>Students have to use their <code>.Rmd</code> document to practice citing references in the text using procedures described above. To clearly define where you practice citing references, please do so under a <code>Citing references</code> header.</p>
</div>
</div>
<div id="adding-a-bibliographyreferences-section" class="section level2">
<h2><span class="header-section-number">8.6</span> Adding a bibliography/references section</h2>
<p>Upon knitting, a bibliography/references section will be automatically generated at the end of the document. Usually, we recommend adding a References header just after the last paragraph of the document as displayed below:</p>
<pre class="r"><code>last paragraph...

# References</code></pre>
<p>The bibliography will be inserted after this header (please see References section of this tutorial for more details).</p>
</div>
</div>
<div id="formatting-citations-to-journal-styles" class="section level1">
<h1><span class="header-section-number">9</span> Formatting citations to journal styles</h1>
<p>In this section, we are studying how your bibliography can be automatically formatted following a journal style. This is achieved by providing the name of a citation style file (containing the protocol to format citations and bibliography following a journal style) in the YAML metadata section.</p>
<div id="what-is-the-citation-style-language-csl" class="section level2">
<h2><span class="header-section-number">9.1</span> What is the citation style language (CSL)?</h2>
<p>The <strong>C</strong>itation <strong>S</strong>tyle <strong>L</strong>anguage (CSL) was developed by an open-source project and aims at facilitating scholarly publishing by automating the formatting of citations and bibliographies. This project has developed the CSL and maintains a crowd sourced repository with over 8000 free CSL citation styles. Please see the following website for more details: <a href="https://citationstyles.org" class="uri">https://citationstyles.org</a></p>
</div>
<div id="csl-repositories" class="section level2">
<h2><span class="header-section-number">9.2</span> CSL repositories</h2>
<p>There are two main CSL repositories:</p>
<ul>
<li><strong>GitHub Repository:</strong> <a href="https://github.com/citation-style-language/styles" class="uri">https://github.com/citation-style-language/styles</a></li>
<li><strong>Zotero Style Repository:</strong> <a href="https://www.zotero.org/styles" class="uri">https://www.zotero.org/styles</a></li>
</ul>
</div>
<div id="how-to-use-a-csl-file-in-an-r-markdown-to-format-citations-and-bibliography" class="section level2">
<h2><span class="header-section-number">9.3</span> How to use a CSL file in an R Markdown to format citations and bibliography?</h2>
<p>Please follow the steps below to format your citations and bibliography following the citation style provided in a CSL file:</p>
<ol style="list-style-type: decimal">
<li>Download the CSL file using repositories provided above. Some journals provide their CSL files on their websites (one has been made available for you to use in the associated files: <code>AmJBot.csl</code>).</li>
<li>Save the CSL file in the same working directory as the <code>.Rmd</code> file.</li>
<li>Edit the YAML metadata section as follows to specify the CSL file:</li>
</ol>
<pre class="r"><code># Add a &quot;csl&quot; argument and provide name of the CSL file (here AmJBot.csl) 
---
title: &quot;Sample Document&quot;
output:
  bookdown::html_document2: 
    toc: TRUE
  bookdown::pdf_document2:
    toc: TRUE
bibliography: bibliography.bib
csl: AmJBot.csl
---</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Knit the R Markdown document using the <code>Knit</code> <img src="Figures/knit_2.png" /> button. The Pandoc program will use the information stored in the YAML metadata section to format the bibliography (citations and bibliography section) following the citation style provided in the CSL file. Do not forget to add a <code>References</code> header at the end of your <code>.Rmd</code> document.</li>
</ol>
</div>
</div>
<div id="references" class="section level1">
<h1><span class="header-section-number">10</span> References</h1>
<div id="refs">
<div id="ref-Baker_2016">
<p><span class="smallcaps">Baker, M.</span> 2016. 1,500 scientists lift the lid on reproducibility. <em>Nature</em> 533: 452–454. Available at: <a href="https://doi.org/10.1038/533452a">https://doi.org/10.1038/533452a</a>.</p>
</div>
<div id="ref-Smith2016">
<p><span class="smallcaps">Smith, J.F.</span>, <span class="smallcaps">T.H. Parker</span>, <span class="smallcaps">S. Nakagawa</span>, <span class="smallcaps">J. Gurevitch</span>, <span class="smallcaps">Ecology</span>, and <span class="smallcaps">T.(. for T. in Evolution) Working Group</span>. 2016. Promoting transparency in evolutionary biology and ecology. <em>Systematic Botany</em> 41: 495–497. Available at: <a href="http://www.bioone.org/doi/abs/10.1600/036364416X692262">http://www.bioone.org/doi/abs/10.1600/036364416X692262</a>.</p>
</div>
<div id="ref-R-bookdown">
<p><span class="smallcaps">Xie, Y.</span> 2020a. Bookdown: Authoring books and technical documents with r markdown. Available at: <a href="https://CRAN.R-project.org/package=bookdown">https://CRAN.R-project.org/package=bookdown</a>.</p>
</div>
<div id="ref-bookdown2016">
<p><span class="smallcaps">Xie, Y.</span> 2016. Bookdown: Authoring books and technical documents with R markdown. Chapman; Hall/CRC, Boca Raton, Florida. Available at: <a href="https://github.com/rstudio/bookdown">https://github.com/rstudio/bookdown</a>.</p>
</div>
<div id="ref-knitr2015">
<p><span class="smallcaps">Xie, Y.</span> 2015. Dynamic documents with R and knitr. 2nd ed. Chapman; Hall/CRC, Boca Raton, Florida. Available at: <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>.</p>
</div>
<div id="ref-R-knitr">
<p><span class="smallcaps">Xie, Y.</span> 2020b. Knitr: A general-purpose package for dynamic report generation in r. Available at: <a href="https://CRAN.R-project.org/package=knitr">https://CRAN.R-project.org/package=knitr</a>.</p>
</div>
<div id="ref-rmarkdown2018">
<p><span class="smallcaps">Xie, Y.</span>, <span class="smallcaps">J. Allaire</span>, and <span class="smallcaps">G. Grolemund</span>. 2018. R markdown: The definitive guide. Chapman; Hall/CRC, Boca Raton, Florida. Available at: <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.</p>
</div>
</div>
</div>
<div id="appendix-appendix" class="section level1 unnumbered">
<h1>Appendix</h1>
</div>
<div id="appendix-1" class="section level1">
<h1><span class="header-section-number">A</span> Appendix 1</h1>
<p>Citations of all R packages used to generate this report.</p>
<p>[1] J. Allaire, Y. Xie, J. McPherson, et al. <em>rmarkdown: Dynamic
Documents for R</em>. R package version 2.1. 2020. &lt;URL:
<a href="https://CRAN.R-project.org/package=rmarkdown" class="uri">https://CRAN.R-project.org/package=rmarkdown</a>&gt;.</p>
<p>[2] S. M. Bache and H. Wickham. <em>magrittr: A Forward-Pipe Operator for
R</em>. R package version 1.5. 2014. &lt;URL:
<a href="https://CRAN.R-project.org/package=magrittr" class="uri">https://CRAN.R-project.org/package=magrittr</a>&gt;.</p>
<p>[3] C. Boettiger. <em>knitcitations: Citations for ‘Knitr’ Markdown
Files</em>. R package version 1.0.10. 2019. &lt;URL:
<a href="https://CRAN.R-project.org/package=knitcitations" class="uri">https://CRAN.R-project.org/package=knitcitations</a>&gt;.</p>
<p>[4] Y. Qiu. <em>prettydoc: Creating Pretty Documents from R Markdown</em>. R
package version 0.3.1. 2019. &lt;URL:
<a href="https://CRAN.R-project.org/package=prettydoc" class="uri">https://CRAN.R-project.org/package=prettydoc</a>&gt;.</p>
<p>[5] R Core Team. <em>R: A Language and Environment for Statistical
Computing</em>. R Foundation for Statistical Computing. Vienna, Austria,
2019. &lt;URL: <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>&gt;.</p>
<p>[6] K. Ren and K. Russell. <em>formattable: Create ‘Formattable’ Data
Structures</em>. R package version 0.2.0.1. 2016. &lt;URL:
<a href="https://CRAN.R-project.org/package=formattable" class="uri">https://CRAN.R-project.org/package=formattable</a>&gt;.</p>
<p>[7] RStudio and Inc. <em>htmltools: Tools for HTML</em>. R package version
0.4.0. 2019. &lt;URL: <a href="https://CRAN.R-project.org/package=htmltools" class="uri">https://CRAN.R-project.org/package=htmltools</a>&gt;.</p>
<p>[8] H. Wickham and J. Bryan. <em>usethis: Automate Package and Project
Setup</em>. R package version 1.5.1. 2019. &lt;URL:
<a href="https://CRAN.R-project.org/package=usethis" class="uri">https://CRAN.R-project.org/package=usethis</a>&gt;.</p>
<p>[9] H. Wickham, R. François, L. Henry, et al. <em>dplyr: A Grammar of Data
Manipulation</em>. R package version 0.8.3. 2019. &lt;URL:
<a href="https://CRAN.R-project.org/package=dplyr" class="uri">https://CRAN.R-project.org/package=dplyr</a>&gt;.</p>
<p>[10] H. Wickham, J. Hester, and W. Chang. <em>devtools: Tools to Make
Developing R Packages Easier</em>. R package version 2.2.1. 2019. &lt;URL:
<a href="https://CRAN.R-project.org/package=devtools" class="uri">https://CRAN.R-project.org/package=devtools</a>&gt;.</p>
<p>[11] Y. Xie. <em>bookdown: Authoring Books and Technical Documents with R
Markdown</em>. ISBN 978-1138700109. Boca Raton, Florida: Chapman and
Hall/CRC, 2016. &lt;URL: <a href="https://github.com/rstudio/bookdown" class="uri">https://github.com/rstudio/bookdown</a>&gt;.</p>
<p>[12] Y. Xie. <em>bookdown: Authoring Books and Technical Documents with R
Markdown</em>. R package version 0.17. 2020. &lt;URL:
<a href="https://CRAN.R-project.org/package=bookdown" class="uri">https://CRAN.R-project.org/package=bookdown</a>&gt;.</p>
<p>[13] Y. Xie. <em>Dynamic Documents with R and knitr</em>. 2nd. ISBN
978-1498716963. Boca Raton, Florida: Chapman and Hall/CRC, 2015. &lt;URL:
<a href="https://yihui.org/knitr/" class="uri">https://yihui.org/knitr/</a>&gt;.</p>
<p>[14] Y. Xie. “knitr: A Comprehensive Tool for Reproducible Research in
R”. In: <em>Implementing Reproducible Computational Research</em>. Ed. by V.
Stodden, F. Leisch and R. D. Peng. ISBN 978-1466561595. Chapman and
Hall/CRC, 2014. &lt;URL:
<a href="http://www.crcpress.com/product/isbn/9781466561595" class="uri">http://www.crcpress.com/product/isbn/9781466561595</a>&gt;.</p>
<p>[15] Y. Xie. <em>knitr: A General-Purpose Package for Dynamic Report
Generation in R</em>. R package version 1.29. 2020. &lt;URL:
<a href="https://CRAN.R-project.org/package=knitr" class="uri">https://CRAN.R-project.org/package=knitr</a>&gt;.</p>
<p>[16] Y. Xie, J. Allaire, and G. Grolemund. <em>R Markdown: The Definitive
Guide</em>. ISBN 9781138359338. Boca Raton, Florida: Chapman and Hall/CRC,
2018. &lt;URL: <a href="https://bookdown.org/yihui/rmarkdown" class="uri">https://bookdown.org/yihui/rmarkdown</a>&gt;.</p>
<p>[17] H. Zhu. <em>kableExtra: Construct Complex Table with ‘kable’ and Pipe
Syntax</em>. R package version 1.1.0. 2019. &lt;URL:
<a href="https://CRAN.R-project.org/package=kableExtra" class="uri">https://CRAN.R-project.org/package=kableExtra</a>&gt;.</p>
</div>
<div id="appendix-2" class="section level1">
<h1><span class="header-section-number">B</span> Appendix 2</h1>
<p>Version information about R, the operating system (OS) and attached or R loaded packages. This appendix was generated using <code>sessionInfo()</code>.</p>
<pre><code>## R version 3.6.1 (2019-07-05)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS Mojave 10.14.6
## 
## Matrix products: default
## BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] devtools_2.2.1       usethis_1.5.1        knitcitations_1.0.10
##  [4] htmltools_0.4.0      prettydoc_0.3.1      magrittr_1.5        
##  [7] dplyr_0.8.3          kableExtra_1.1.0     formattable_0.2.0.1 
## [10] bookdown_0.17        rmarkdown_2.1        knitr_1.29          
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.3        lubridate_1.7.4   prettyunits_1.1.1 ps_1.3.0         
##  [5] assertthat_0.2.1  rprojroot_1.3-2   digest_0.6.23     R6_2.4.1         
##  [9] plyr_1.8.5        backports_1.1.5   evaluate_0.14     highr_0.8        
## [13] httr_1.4.1        pillar_1.4.3      rlang_0.4.3       rstudioapi_0.10  
## [17] callr_3.4.1       desc_1.2.0        webshot_0.5.2     RefManageR_1.2.12
## [21] readr_1.3.1       stringr_1.4.0     htmlwidgets_1.5.1 tinytex_0.19     
## [25] munsell_0.5.0     compiler_3.6.1    xfun_0.16         pkgconfig_2.0.3  
## [29] pkgbuild_1.0.6    tidyselect_0.2.5  tibble_2.1.3      fansi_0.4.1      
## [33] viridisLite_0.3.0 crayon_1.3.4      withr_2.1.2       jsonlite_1.6     
## [37] lifecycle_0.1.0   formatR_1.7       scales_1.1.1      bibtex_0.4.2.2   
## [41] cli_2.0.1         stringi_1.4.5     fs_1.3.1          remotes_2.1.0    
## [45] testthat_2.3.1    xml2_1.2.2        ellipsis_0.3.0    vctrs_0.2.2      
## [49] tools_3.6.1       glue_1.3.1        purrr_0.3.3       hms_0.5.3        
## [53] processx_3.4.1    pkgload_1.0.2     yaml_2.2.0        colorspace_1.4-1 
## [57] sessioninfo_1.1.1 rvest_0.3.5       memoise_1.1.0</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
